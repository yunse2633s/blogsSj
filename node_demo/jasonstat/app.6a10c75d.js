(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)s=i[d],r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={1:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([4,0]),a()})({4:function(t,e,a){t.exports=a("Vtdi")},NxSi:function(t,e,a){"use strict";var n=a("XzmS"),r=a.n(n);r.a},TZPe:function(t,e,a){},Vtdi:function(t,e,a){"use strict";a.r(e);var n=a("07II"),r=a("nm1j"),o=a("rC7v"),s=a("GWDc"),i=a("/451"),l=a("A0fO"),c=a("bq2A"),u=a("u76d"),d=(a("VRzm"),a("Kw5r")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mo-wrap"},[a("Layout",[a("mo-header"),a("mo-content")],1)],1)},f=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mo-header"},[a("Header",[a("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[a("div",{staticClass:"layout-logo"},[a("span",{staticClass:"circle"}),a("span",{staticClass:"sub-logo"},[t._v("容东片区B1组团项目")])])])],1)],1)},_=[],v={data:function(){return{}}},y=v,b=(a("ydIP"),a("KHd+")),h=Object(b["a"])(y,m,_,!1,null,null,null),C=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mo-content"},[a("Content",[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{xs:24,sm:8,md:8,lg:8}},[a("Card",{staticClass:"num-card card-1",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-people"}}),t._v("\n            实时在场人数\n          ")],1),a("p",{staticClass:"num"},[t._v(t._s(t.real_count))])])],1),a("Col",{attrs:{xs:24,sm:8,md:8,lg:8}},[a("Card",{staticClass:"num-card card-2",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-people"}}),t._v("\n            今日累计进场人次\n          ")],1),a("p",{staticClass:"num"},[t._v(t._s(t.entry_count))])])],1),a("Col",{attrs:{xs:24,sm:8,md:8,lg:8}},[a("Card",{staticClass:"num-card card-3",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-people"}}),t._v("\n            今日累计出场人次\n          ")],1),a("p",{staticClass:"num"},[t._v(t._s(t.out_count))])])],1)],1),a("Row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{xs:24,sm:16,md:16,lg:16}},[a("Card",{staticClass:"enter-card",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n            劳务公司最新进场概况\n          ")]),a("Row",t._l(t.companys,function(e,n){return n<6?a("Col",{attrs:{xs:12,sm:8,md:8,lg:8}},[a("div",{ref:"chart",refInFor:!0,staticClass:"water-chart",attrs:{id:"chart-"+n}})]):t._e()}))],1)],1),a("Col",{attrs:{xs:24,sm:8,md:8,lg:8}},[a("Card",{staticClass:"people-card",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n            人员信息\n          ")]),a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{xs:8,sm:8,md:8,lg:8}},[a("div",{staticStyle:{display:"inline-block","margin-bottom":"10px"}},[a("img",{staticClass:"p-avatar",attrs:{src:t.user_info["sign_avatar"]}}),a("p",{staticClass:"avatar-tit"},[t._v("现场抓拍")])]),a("div",{staticStyle:{display:"inline-block"}},[a("img",{staticClass:"p-avatar",attrs:{src:t.user_info["avatar"]}}),a("p",{staticClass:"avatar-tit"},[t._v("证件照片")])])]),a("Col",{attrs:{xs:16,sm:16,md:16,lg:16}},[a("ul",{staticClass:"ava-list"},[a("li",[a("span",{staticClass:"label"},[t._v("姓名：")]),t._v(t._s(t.user_info["name"]))]),a("li",[a("span",{staticClass:"label"},[t._v("岗位：")]),t._v(t._s(t.user_info["work_type"]))]),a("li",[a("span",{staticClass:"label"},[t._v("通道：")]),t._v(t._s(t.user_info["device_name"]))]),a("li",[a("span",{staticClass:"label"},[t._v("方向：")]),t._v(t._s(t.user_info["direction"]))]),a("li",[a("span",{staticClass:"label"},[t._v("时间：")]),t._v(t._s(t.user_info["sign_time"]))])])])],1)],1)],1)],1),a("Row",{staticStyle:{"margin-top":"20px"}},[a("Col",[a("Card",{staticClass:"line-card",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n            今日进出场人数走势\n          ")]),a("div",{staticClass:"line-chart",attrs:{id:"line"}})])],1)],1)],1)],1)},x=[],w=(a("rGqo"),a("vDqi")),S=a.n(w),O=a("zAb8"),j={data:function(){return{real_count:0,entry_count:0,out_count:0,companys:[],transit_trend:[],pieColors:["#00c9e4","#06e752","#00f9d8","#c4ee50","#a21ee3","#eb431d"],user_info:{avatar:"",device_name:"",direction:"",name:"",sign_avatar:"",sign_time:"",unit:"",work_type:""}}},mounted:function(){var t=this;t.getData(),setInterval(function(){t.getData()},2e3)},methods:{getData:function(){var t=this;S.a.get("/api/labor_transit_statistics",{}).then(function(e){var a=e.data.data;t.real_count=a.real_count,t.entry_count=a.entry_count,t.out_count=a.out_count,t.companys=a.companys,t.user_info=a.user_info,t.transit_trend=a.transit_trend,t.initChart()})},initChart:function(){var t=this;this.$nextTick(function(){t.$refs["chart"].forEach(function(e,a){var n=t.$echarts.init(e);n.setOption({title:{text:t.companys[a]["unit"],left:"center",textStyle:{fontSize:14,color:"#fff"}},series:[{type:"liquidFill",data:[t.companys[a]["enter_labor"]/t.companys[a]["total_labor"]],color:[t.pieColors[a]],label:{normal:{formatter:function(e){return t.companys[a]["enter_labor"]+"人"},textStyle:{fontSize:30,color:"#fff"}}},backgroundStyle:{color:"#0d1522"},radius:"80%",outline:{borderDistance:4,itemStyle:{color:"none",borderColor:t.pieColors[a],borderWidth:3,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.25)"}}}]}),window.addEventListener("resize",Object(O["a"])(300,function(){n.resize()}))}),t.initLine()})},initLine:function(){var t=this,e=t.$echarts.init(document.getElementById("line")),a=[],n=[],r=[];t.transit_trend.forEach(function(t){a.push(t.h),n.push(t.enter_count),r.push(t.out_count)});var o={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["进场","出场"],textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"0%",containLabel:!0},axisLabel:{color:"#fff"},xAxis:[{type:"category",boundaryGap:!1,data:a}],yAxis:[{splitLine:{show:!1},type:"value"}],series:[{type:"line",name:"进场",data:n,symbol:"circle",smooth:!0,areaStyle:{color:new t.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#01f16c"},{offset:1,color:"#151d28"}])},lineStyle:{color:"#01f16c"},itemStyle:{color:"#01f16c"}},{type:"line",name:"出场",data:r,symbol:"circle",smooth:!0,areaStyle:{color:new t.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#005de1"},{offset:1,color:"#151d28"}])},lineStyle:{color:"#005de1"},itemStyle:{color:"#005de1"}}]};e.setOption(o),window.addEventListener("resize",Object(O["a"])(300,function(){e.resize()})),t.$Spin.hide()}}},$=j,z=(a("NxSi"),Object(b["a"])($,g,x,!1,null,null,null)),I=z.exports,L={created:function(){this.$Spin.show()},data:function(){return{}},components:{MoHeader:C,MoContent:I}},P=L,k=(a("rAmE"),Object(b["a"])(P,p,f,!1,null,null,null)),E=k.exports,M=(a("3K29"),a("MT78")),A=a.n(M);a("0BWc");d["a"].component("Row",u["a"]),d["a"].component("Col",c["a"]),d["a"].component("Card",l["a"]),d["a"].component("Spin",i["a"]),d["a"].component("Layout",s["a"]),d["a"].component("Header",o["a"]),d["a"].component("Menu",r["a"]),d["a"].component("Icon",n["a"]),d["a"].prototype.$Spin=i["a"],d["a"].prototype.$echarts=A.a,d["a"].config.productionTip=!1,new d["a"]({render:function(t){return t(E)}}).$mount("#app")},XzmS:function(t,e,a){},q6ma:function(t,e,a){},rAmE:function(t,e,a){"use strict";var n=a("q6ma"),r=a.n(n);r.a},ydIP:function(t,e,a){"use strict";var n=a("TZPe"),r=a.n(n);r.a}});
//# sourceMappingURL=app.6a10c75d.js.map